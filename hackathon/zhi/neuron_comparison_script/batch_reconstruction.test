#!/bin/bash

if [ $# -ge 1 ]; then
	if [ ! -f $1 ]; then
		echo "Can not find file [$1]"
		exit
	fi
else
	echo "./batch_reconstruction.test <Vaa3D executable file path> <input image path> <output folder path> "
	exit
fi

if [ $# -ge 2 ]; then
	if [ ! -f $2 ]; then
		echo "Can not find file [$2]"
		exit
	fi
else
	echo "./batch_reconstruction.test <Vaa3D executable file path> <input image path> <output folder path> "
	exit
fi

if [ $# -ge 3 ]; then
	if [ ! -f $3 ]; then
		mkdir $3
	fi
else
	echo "./batch_reconstruction.test <Vaa3D executable file path> <input image path> <output folder path> "
	exit
fi

$1 -x Vaa3D_Neuron2 -f app2 -i $2 -o "$2_app2.swc" -p NULL 0 15 0 1 1 0 10   
mv  "$2_app2.swc" $3
rm  "$2_ini.swc"
$1 -x MOST -f MOST_trace -i $2 -p 1 20   
mv  "$2_MOST.swc" $3
$1 -x neuTube -f neutube_trace -i $2 -p 1 1   
mv  "$2_neutube.swc" $3
$1 -x snake -f snake_trace -i $2 -p 1 
mv  "$2_snake.swc" $3



