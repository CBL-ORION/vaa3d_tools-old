CC = gcc
MYERS_DIR = ../lib/genelib/src
MYERS_LIB = myers
#../lib/genelib/src
UNAME := $(shell uname)
#ifeq ($(UNAME), MINGW32_NT-6.1) || ifeq ($(UNAME), MINGW32_NT-5.1) 
#if (findstring $(UNAME),MINGW32)
ifneq (,$(findstring MINGW32,$(UNAME)))
QT_PATH = C:/Qt/2010.05
CCI =  -I./include -I$(MYERS_DIR) -I/usr/include/libxml2  -Ic:/mingw/include -Ic:/mingw/include/libxml2 -D__USE_MINGW_ANSI_STDIO -I$(QT_PATH)/mingw/include -I$(QT_PATH)/mingw/include/libxml2
else
CCI =  -I/usr/local/include -I./include -I$(MYERS_DIR) -I/usr/include/libxml2 -I/usr/local/include/libxml2 -I$(HOME)/local/include
endif
#

#To enable exception handling, add -DENABLE_C_EXCEPTION and recompile
AFLAGS = -D_OPTIONAL_CFLAG_
CFLAGS = $(CCI) -g -Wall -std=c99 -pedantic -D_DEBUG_ -D_TEST_ $(AFLAGS) $(EXTLIB_FLAGS) -DHAVE_CONFIG_H -DLIBMYERS_VERSION=2 -m64 
#release version c flags
#-fprofile-arcs -ftest-coverage 
RELEASE_CFLAGS = $(CCI) -O2 $(AFLAGS) $(EXTLIB_FLAGS) -m64 -DHAVE_CONFIG_H  

DEBUG_DIR = obj
RELEASE_DIR = release

EXT_LIB_DIR = /Users/zhaot/local/lib

LIB_DIR = lib
LIB_BASE_NAME = libneurolabi
DEBUG_SUFFIX = _debug
STATIC_EXT= a

ifeq ($(UNAME),Darwin)
  DYLIB_EXT = dylib
else
  DYLIB_EXT = so
endif

#ifeq ($(UNAME), MINGW32_NT-6.1)
#if (findstring $(UNAME),MINGW32)
ifneq (,$(findstring MINGW32,$(UNAME)))
LIBFLAGS = -L/usr/local/lib -L$(EXT_LIB_DIR) -ljansson -lpng -lm -lxml2 -lz -lfftw3f -lfftw3  -lpcreposix -lpcre
else
LIBFLAGS = -L/usr/local/lib -L$(EXT_LIB_DIR) -ljansson -lpng -lm -lxml2 -lz -lfftw3f -lfftw3 
endif

#VERSION=1.0.0

OTHER_LIBFLAGS =  -L/sw/lib -L/usr/X11R6/lib/ -lX11 -lXext -ljpeg -lpng -lgif -lImlib -I/Developer/SDKs/MacOSX10.4u.sdk/usr/X11R6/include -I/sw/include 
LDFLAGS = $(LIBFLAGS) -m64
#-fprofile-arcs -ftest-coverage
